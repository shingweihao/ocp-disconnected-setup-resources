apiVersion: mirror.openshift.io/v1alpha2
kind: ImageSetConfiguration
mirror:
{% if platform_images == 'y' %}
  platform:
    channels:             
    - name: stable-{{ ocp_version_channel }}
      type: ocp
      minVersion: {{ ocp_version }}
      maxVersion: {{ ocp_version }}
{% endif %}
{% if redhat_operators == 'y' or certified_operators == 'y' or community_operators == 'y' %}
  operators:
{% endif %}
{% if redhat_operators == 'y' %}
  {% for operator in redhat_operators_list %}
  - catalog: registry.redhat.io/redhat/redhat-operator-index:v{{ ocp_version_channel }}                                                    
    packages:
      - name: {{ operator.name }}
        channels:
        - name: {{ operator.channel }}
  {% endfor %}
{% endif %}
{% if certified_operators == 'y' %}
  {% for operator in certified_operators_list %}
  - catalog: registry.redhat.io/redhat/certified-operator-index:v{{ ocp_version_channel }}                                                    
    packages:
      - name: {{ operator.name }}
        channels:
        - name: {{ operator.channel }}
  {% endfor %}
{% endif %}
{% if community_operators == 'y' %}
  {% for operator in community_operators %}
  - catalog: registry.redhat.io/redhat/community-operator-index:v{{ ocp_version_channel }}                                                    
    packages:
      - name: {{ operator.name }}
        channels:
        - name: {{ operator.channel }}
  {% endfor %}
{% endif %}
{% if additionalimages_list == 'y' %}
  additionalImages:
  {% for image in additionalimages_list %}
  - name: {{ image.name }}
  {% endfor %}
{% endif %}